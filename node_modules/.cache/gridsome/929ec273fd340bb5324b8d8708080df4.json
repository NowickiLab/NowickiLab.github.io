{"remainingRequest":"C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\babel-loader\\lib\\index.js??ref--1-1!C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ja03\\NowickiLab.github.io\\src\\components\\music-challenge\\Like.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\ja03\\NowickiLab.github.io\\src\\components\\music-challenge\\Like.vue","mtime":1591715987800},{"path":"C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1767895345982},{"path":"C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\babel-loader\\lib\\index.js","mtime":1767895347093},{"path":"C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1767895345982},{"path":"C:\\Users\\ja03\\NowickiLab.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1767895347956}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from '@/assets/js/music-axios';\nimport fetchToken from '@/assets/js/fetchRecaptchaToken';\nexport default {\n  props: ['song'],\n  data() {\n    return {\n      isLikesLoading: false,\n      isLiked: JSON.parse(localStorage.getItem('likedSongs')).includes(this.song.id)\n    };\n  },\n  computed: {\n    displayLikes() {\n      const ppl = this.song.likes === 1 ? 'person likes' : 'people like';\n      if (this.song.likes) return `${this.song.likes} ${ppl} this`;\n      return `No one has liked this yet!`;\n    }\n  },\n  methods: {\n    likeSong() {\n      if (this.isLikesLoading) return;\n      this.isLikesLoading = true;\n      const likedSongs = JSON.parse(localStorage.getItem('likedSongs'));\n      if (likedSongs.includes(this.song.id)) return;\n      likedSongs.push(this.song.id);\n      localStorage.setItem('likedSongs', JSON.stringify(likedSongs));\n      this.isLiked = true;\n      fetchToken().then(token => {\n        return axios.post('/likes', {\n          songId: this.song.id,\n          token\n        });\n      }).then(res => {\n        const likesNumber = res.data.likes;\n        this.song.likes = likesNumber;\n      }).finally(() => {\n        this.isLikesLoading = false;\n      });\n    }\n  }\n};",null]}